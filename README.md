# Serenity/JS Cucumber Protractor Template

[![Build Status](https://github.com/serenity-js/serenity-js-cucumber-protractor-template/actions/workflows/build.yml/badge.svg)](https://github.com/serenity-js/serenity-js-cucumber-protractor-template/actions/workflows/build.yml)
[![NPM Version](https://img.shields.io/npm/v/%40serenity-js%2Fcore?style=flat&logoColor=%23FBD30B&label=Serenity%2FJS&color=%23FBD30B)](https://serenity-js.org/releases/)

[![Follow Serenity/JS on LinkedIn](https://img.shields.io/badge/Follow-Serenity%2FJS%20-0077B5?logo=linkedin)](https://www.linkedin.com/company/serenity-js)
[![Watch Serenity/JS on YouTube](https://img.shields.io/badge/Watch-@serenity--js-E62117?logo=youtube)](https://www.youtube.com/@serenity-js)
[![Join Serenity/JS Community Chat](https://img.shields.io/badge/Chat-Serenity%2FJS%20Community-FBD30B?logo=matrix)](https://matrix.to/#/#serenity-js:gitter.im)
[![Support Serenity/JS on GitHub](https://img.shields.io/badge/Support-@serenity--js-703EC8?logo=github)](https://github.com/sponsors/serenity-js)

This [**template repository**](https://help.github.com/en/articles/creating-a-repository-from-a-template) helps you automate testing
of web applications using [**Serenity/JS**](https://serenity-js.org), [**Cucumber**](https://github.com/cucumber/cucumber-js), and [**Protractor**](http://www.protractortest.org/),
and comes pre-configured with **TypeScript**, linting, reporting, and example test scenarios.

Use this template to accelerate your test automation setup and generate [Serenity BDD living documentation](https://serenity-js.org/handbook/reporting/serenity-bdd-reporter/).

View live reports generated by this template:
- [Serenity BDD living documentation](https://serenity-js.github.io/serenity-js-cucumber-protractor-template/)

## Features

- Pre-configured **Serenity/JS** + **Cucumber** + **Protractor** + **TypeScript** setup
- Example BDD scenarios demonstrating web application testing
- **Screenplay Pattern** implementation showcasing reusable tasks and interactions
- Integrated reporting with **Serenity BDD** living documentation
- TSLint configuration for code quality and consistency
- CI-ready scripts and development environment support
- Ready-to-use GitHub Codespaces environment using the official [Serenity/JS Docker image](https://serenity-js.org/handbook/integration/docker/)

## Quick Start

### Explore instantly in GitHub Codespaces

Launch this project in an online development environment:

[![Open in GitHub Codespaces](https://github.com/codespaces/badge.svg)](https://github.com/codespaces/new?ref=main&repo=serenity-js/serenity-js-cucumber-protractor-template)

### Run locally

#### 1. Prerequisites

Follow the [Serenity/JS installation guide](https://serenity-js.org/handbook/about/installation/) to set up your development environment with the following prerequisites:
- [Node.js](https://nodejs.org/) (LTS version 16 or later recommended)
- [Java JRE 11+](https://www.oracle.com/java/technologies/java-se-glance.html)

#### 2. Create your project

[Create a new GitHub repository](https://help.github.com/en/articles/creating-a-repository-from-a-template) from this template and
[clone it](https://help.github.com/en/github/creating-cloning-and-archiving-repositories/cloning-a-repository) to your machine:

```shell
git clone <your-repo-url>
cd <your-project>
```

#### 3. Install dependencies

Install the project dependencies:

```shell
npm ci
```

Running [`npm ci`](https://docs.npmjs.com/cli/v6/commands/npm-ci) downloads the [Node modules](https://docs.npmjs.com/about-packages-and-modules) this project depends on, as well as the latest supported version of [`chromedriver`](https://www.npmjs.com/package/chromedriver) and the [Serenity BDD CLI](https://github.com/serenity-bdd/serenity-cli) reporter jar.

##### Corporate networks

If your environment requires proxy configuration or an internal registry like Artifactory or Nexus, add an [`.npmrc` file](https://docs.npmjs.com/cli/v6/configuring-npm/npmrc) file
with the appropriate configuration to your home directory:

```
proxy=http://user:password@host.mycompany.com:8080/
https-proxy=http://user:password@host.mycompany.com:8080/
strict-ssl=false
registry=https://artifactory.mycompany.com/artifactory/
```

If you encounter issues downloading the Serenity BDD CLI jar, please follow the [detailed instructions in the Serenity/JS Handbook](https://serenity-js.org/api/serenity-bdd/#downloading-the-serenity-bdd-reporting-cli).

Similar instructions are available for the [`chromedriver` module](https://www.npmjs.com/package/chromedriver).

#### 4. Run tests

Run the example tests:
```
npm test
```

#### 5. View reports

View the test reports generated under the following path:

- **Serenity BDD**: `./target/site/serenity/index.html`

Alternatively, serve the Serenity BDD report using the built-in HTTP server,
accessible at [http://localhost:8080](http://localhost:8080):
```
npm run start
```

## Execution

The project provides several [NPM scripts](https://docs.npmjs.com/cli/v6/using-npm/scripts) defined in [`package.json`](package.json):

```
npm run lint            # runs code linter
npm run clean           # removes reports from any previous test run
npm test                # executes the example test suite
                        # and generates the report under ./target/site/serenity
npm start               # starts a mini HTTP server and serves the test reports
                        # at http://localhost:8080
```

### Test execution modes

```shell
# Run all tests
npm test

# Run specific feature file
npm test -- --specs=features/super_calculator/calculations.feature

# Run by scenario name
npm test -- --cucumberOpts.name="Adding numbers"

# Run with specific tag
npm test -- --cucumberOpts.tags="@smoke-test and @fast"

# Run scenario by file and line number
npm test -- --specs=features/super_calculator/calculations.feature:24
```

## Project Structure

The template follows a clear structure to help you organize your tests:

```
features/
â”œâ”€â”€ super_calculator/
â”‚   â”œâ”€â”€ calculations.feature               # Cucumber feature files
â”‚   â””â”€â”€ readme.md                          # Feature narrative
â”œâ”€â”€ step_definitions/
â”‚   â””â”€â”€ super_calculator.steps.ts          # Cucumber step definitions
â””â”€â”€ support/
    â”œâ”€â”€ parameters.ts                      # Custom parameter types
    â””â”€â”€ serenity.config.ts                 # Serenity/JS configuration

test/
â”œâ”€â”€ Actors.ts                              # Actor configuration with abilities
â”œâ”€â”€ index.ts                               # Test code exports
â””â”€â”€ super-calculator/                      # Example calculator-related tasks
    â”œâ”€â”€ ConfirmCalculation.ts
    â”œâ”€â”€ EnterLeftSideOperand.ts
    â”œâ”€â”€ EnterRightSideOperand.ts
    â”œâ”€â”€ SelectOperator.ts
    â”œâ”€â”€ CalculationResult.ts
    â””â”€â”€ ui/                                # Page objects and UI elements
        â””â”€â”€ SuperCalculatorWidget.ts

protractor.conf.js                         # Protractor configuration
target/site/serenity/                      # Generated Serenity BDD reports
```

**Key files:**
- `features/*.feature` - Cucumber scenarios written in Gherkin (Given/When/Then)
- `features/step_definitions/` - Cucumber step definitions connecting Gherkin to implementation
- `test/` - Tasks, questions, and page objects following the [Screenplay Pattern](https://serenity-js.org/handbook/design/screenplay-pattern/)

## Next steps

- Replace the example tests with your own
- Add new tasks, interactions, and assertions using Serenity/JS
- Extend the test suite or integrate it into CI/CD pipelines
- Use the sample reports to understand expected testing and reporting workflows

## Troubleshooting

### Port 8080 already in use

If the report server fails to start because port 8080 is in use, you can specify a different port:
```shell
npx http-server -p 3000 target/site/serenity -s -o
```

### Java not found error

Serenity BDD reports require Java 11 or higher. Verify your installation:
```shell
java -version
```

If Java is not installed, download it from [Oracle](https://www.oracle.com/java/technologies/downloads/) or use a package manager:
- **macOS**: `brew install openjdk@11`
- **Linux**: `sudo apt-get install openjdk-11-jre`
- **Windows**: Download from Oracle or use [Chocolatey](https://chocolatey.org/): `choco install openjdk11`

## Documentation

- [Using Serenity/JS with Cucumber](https://serenity-js.org/handbook/test-runners/cucumber/)
- [API Reference](https://serenity-js.org/api/)
- [Screenplay Pattern Guide](https://serenity-js.org/handbook/design/screenplay-pattern/)
- [Serenity/JS Project Templates](https://serenity-js.org/handbook/project-templates/)
- [More examples and reference implementations](https://github.com/serenity-js/serenity-js/tree/main/examples)
- [Tutorial: First Web Scenario](https://serenity-js.org/handbook/tutorials/your-first-web-scenario/)

## Contributing

Contributions of all kinds are welcome! Get started with the [Contributing Guide](https://serenity-js.org/community/contributing/).

## Community

[![Follow Serenity/JS on LinkedIn](https://img.shields.io/badge/LinkedIn-Serenity%2FJS%20-0077B5?logo=linkedin)](https://www.linkedin.com/company/serenity-js)
[![Watch Serenity/JS on YouTube](https://img.shields.io/badge/Watch-@serenity--js-E62117?logo=youtube)](https://www.youtube.com/@serenity-js)
[![Join Serenity/JS Community Chat](https://img.shields.io/badge/Chat-Serenity%2FJS%20Community-FBD30B?logo=matrix)](https://matrix.to/#/#serenity-js:gitter.im)

Join a thriving community of developers using Serenity/JS to deliver high-quality software!

### Stay informed

- ğŸ“° [Get the latest updates on LinkedIn](https://www.linkedin.com/company/serenity-js) - Product announcements, tutorials, and best practices
- ğŸ“º [Watch tutorials on YouTube](https://www.youtube.com/@serenity-js) - Video guides and conference talks

### Get help and share knowledge

- ğŸ’¬ [Join the Community Chat](https://matrix.to/#/#serenity-js:gitter.im) - Real-time help and discussions
- ğŸ’¡ [Browse the Discussions Forum](https://github.com/orgs/serenity-js/discussions) - Q&A and feature discussions
  - Check out [How to...?](https://github.com/orgs/serenity-js/discussions/categories/how-to) for answers to common questions

### Share the love!

Love Serenity/JS? Help others discover the framework:

â­ **Star the [Serenity/JS repository](https://github.com/serenity-js/serenity-js)** on GitHub

[![GitHub stars](https://img.shields.io/github/stars/serenity-js/serenity-js?label=Serenity%2FJS&logo=github&style=badge)](https://github.com/serenity-js/serenity-js)

Starring the repository helps increase visibility and shows your support for the project!

## License

The Serenity/JS code base is licensed under the [Apache-2.0](https://opensource.org/license/apache-2-0) license,
while its documentation and the [Serenity/JS Handbook](https://serenity-js.org/handbook/) are licensed under the [Creative Commons BY-NC-SA 4.0 International](https://creativecommons.org/licenses/by-nc-sa/4.0/).

See the [Serenity/JS License](https://serenity-js.org/legal/license/).

## Support

### ğŸ’ Sponsor Serenity/JS

Support the ongoing development of Serenity/JS and the open-source community:

[![GitHub Sponsors](https://img.shields.io/badge/Support%20@serenity%2FJS-703EC8?style=for-the-badge&logo=github&logoColor=white)](https://github.com/sponsors/serenity-js)

**Sponsor benefits:**
- ğŸ“ Access to [Serenity/JS Playbooks](https://github.com/serenity-js/playbooks) - Advanced patterns and best practices
- ğŸ† Priority support in the [Community Discussions Forum](https://github.com/orgs/serenity-js/discussions)
- ğŸ’š Support open-source development and help keep Serenity/JS free for everyone

### ğŸ¢ Professional Services

Need dedicated support, training, or consulting for your team?

**[Contact Jan Molak](https://www.linkedin.com/in/janmolak/)** for:
- ğŸ¯ **Consulting & Training** - Custom workshops and team training sessions
- ğŸ¤ **Corporate Support** - Dedicated technical support and SLA-backed assistance
- ğŸ—ï¸ **Architecture Reviews** - Expert guidance on test automation strategy and implementation
- ğŸ“Š **Corporate Sponsorship** - Tailored partnership opportunities for organizations

